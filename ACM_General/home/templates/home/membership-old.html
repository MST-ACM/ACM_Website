{% extends 'home/base.html' %}
{% load static %}

{% block head_title %}
  <title> ACM | Membership </title>
{% endblock %}
{% block head_stylesheets %}
  <link rel="stylesheet" href="{% static "/home/css/membership.css" %}"/>
{% endblock %}

{% block body_content %}
  <main>
    <div class="content-wrapper">
      <h1 class="perks-header"><a name="top">Being an ACM member guarantees</a>
      </h1>
      <hr>
      <div class="perks">
        <div class="perks__perk">
          <h3 class="perks__title">Free Shirt</h3>
          <div class="perks__description">Free ACM shirt every year</div>
          <a href="#shirt" class="perks__details-link">Details</a>
        </div>
        <div class="perks__perk">
          <h3 class="perks__title">Discounts</h3>
          <div class="perks__description">Cheap entry to ACM events</div>
          <a href="#discounts" class="perks__details-link">Details</a>
        </div>
        <div class="perks__perk">
          <h3 class="perks__title">Cheap Soda</h3>
          <div class="perks__description">25 cent soda in the CS Lounge</div>
          <a href="#soda" class="perks__details-link">Details</a>
        </div>
        <div class="perks__perk">
          <h3 class="perks__title">ACM Dinner</h3>
          <div class="perks__description">Free Dinner with business
            professionals
          </div>
          <a href="#dinner" class="perks__details-link">Details</a>
        </div>
      </div>
      <div class="pay-area">
        <div class="pay-area__card">
          <h1 class="pay-area__title">Semester</h1>
          <div class="pay-area__price">11</div>
          <div class="pay-area__disclaimer">all perks are included</div>
          <form id="semester-button" class="acm-btn pay-area__btn pay-area__btn--semester" action="{% url 'payments:product-handler' 1100 %}" method="POST">
            {% csrf_token %}
            Buy Semester
          </form>
        </div>
        <div class="pay-area__spacer"></div>
        <div class="pay-area__card pay-area__card--year">
          <h1 class="pay-area__title">Year</h1>
          <div class="pay-area__price">20</div>
          <div class="pay-area__disclaimer">all perks are included</div>
          <form id="year-button" class="acm-btn pay-area__btn pay-area__btn--year" action="{% url 'payments:product-handler' 1100 %}" method="POST">
            {% csrf_token %}
            Buy Year
          </form>
        </div>
      </div>
    </div>
    <div class="details">
      <div class="details__perk">
        <div class="content-wrapper">
          <h2><a name="shirt">Free Shirt</a></h2>
          <p>Every year you are a member, you will receive a free Tee-Shirt from
            ACM.</p>
          <a href="#top" class="details__top-link">To The Top</a>
        </div>
      </div>
      <div class="details__perk">
        <div class="content-wrapper">
          <h2><a name="discounts">Discounts</a></h2>
          <p>All ACM hosted and sponsored events will be marked down
            significantly for members!</p>
          <a href="#top" class="details__top-link">To The Top</a>
        </div>
      </div>
      <div class="details__perk">
        <div class="content-wrapper">
          <h2><a name="soda">Cheap Soda</a></h2>
          <p>ACM owns its own vending machine, where it charges $0.25 for
            members to grab a soda! Check out the project on <a
              href="https://github.com/MST-ACM/ACM_SodaMachine"
              class="spice-link">Github</a>!<br>Located on the main floor of the
            Computer Science building in the lounge.</p>
          <a href="#top" class="details__top-link">To The Top</a>
        </div>
      </div>
      <div class="details__perk">
        <div class="content-wrapper">
          <h2><a name="dinner">ACM Dinner</a></h2>
          <p>This is a really cool opportunity to meet and network with industry
            leaders. Last year we had <a href="https://www.blog.google/" class="spice-link">Google</a>, <a href="http://www.sandia.gov/" class="spice-link">Sandia</a>, and many others. Come eat
            with some of the closest links to your favorite
            companies.</p>
          <a href="#top" class="details__top-link">To The Top</a>
        </div>
      </div>
    </div>
  </main>

  <script src="https://checkout.stripe.com/checkout.js"></script>
          <script>
            var handler = StripeCheckout.configure({
              key: '{{ stripe_public_key }}',
              image: '{% static 'home/img/core/acm.png' %}',
              locale: 'auto',
              token: function(token) {
                // You can access the token ID with `token.id`.
                // Get the token ID to your server-side code for use.
              }
            });

            document.getElementById('semester-button').addEventListener('click', function(e) {
              // Open Checkout with further options:
              handler.open({
                name: 'Missouri S&T - Association of Computing Machinery',
                description: 'Semester Membership',
                zipCode: true,
                amount: 1100
              });
              e.preventDefault();
            });

            document.getElementById('year-button').addEventListener('click', function(e) {
              // Open Checkout with further options:
              handler.open({
                name: 'Missouri S&T - Association of Computing Machinery',
                description: 'Year Membership',
                zipCode: true,
                amount: 2000
              });
              e.preventDefault();
            });

            // Close Checkout on page navigation:
            window.addEventListener('popstate', function() {
              handler.close();
            });
          </script>
{% endblock %}
